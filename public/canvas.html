<!DOCTYPE html>
<html>
<head><meta charset="utf-8"/>
<script type="text/javascript" src="/vendor/svg.js"></script>
<script type="text/javascript" src="/vendor/svg.draggy.min.js"></script>
<script type="text/javascript" src="/vendor/svg.connectable.js"></script>
<script type="text/javascript" src="/vendor/handlebars-v4.7.6.js"></script>
<!--
<script type="text/javascript" src="vendor/morphdom.js"></script>
-->
<script>
let state = {
    nodes: [
        // need: createdBy, createdTs, lastChangedBy, lastChangeTs
        { type:"note", id:"id-local-1", x:10,y:10,width:100,height:100,text:"Node 1",title:"Node 1"},
        { type:"note", id:"id-local-2", x:110,y:10,width:100,height:100,text:"Node 2",title:"Node 2"},
        { type:"note", id:"id-local-3", x:210,y:10,width:100,height:100,text:"Node 3",title:"Node 3"},
    ],
    joins: [],
};

function setupGraph() {
    // let data = JSON.parse(fetch('./nodes'));
    mkNodes( state.nodes );
    // mkJoins( nodes, data.joins );
    addSelectionOverlay(svg,'id-local-2');
}
</script>
<style>
.node-vertical__inactive {
  filter:url(#shadow);
}

.insideforeign {
    background-color: gray;
    display: flex;
    justify-content: center; /* align horizontal */
    align-items: center; /* align vertical */
    min-height: 100%;
    min-width: 100%;
}

#svg1 {
    width: 100%,
    height: 100%,
}
</style>
</head>
<body onload="javascript:setupGraph()">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg1">
    <defs>
    <filter id="shadow" x="-20%" y="-20%" width="200%" height="200%">
      <feDropShadow dx="20" dy="3" stdDeviation="5" flood-color="#5091b9" />
    </filter>
    </defs>
</svg>
<script type="text/javascript" src="/example.js"></script>
<button onclick="javascript:exportAsSvg()" href="#">Save</button>
<button onclick="javascript:createNote()" href="#">Note</button>
</body>
</html>
